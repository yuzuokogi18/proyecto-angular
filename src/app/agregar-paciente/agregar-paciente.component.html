<div class="flex min-h-screen">
  <!-- Sidebar -->
  <app-sidebardoctor></app-sidebardoctor>

  <!-- Main Content -->
  <main class="flex-1 p-10">
    <h2 class="text-2xl font-semibold text-center mb-10">Agregar Paciente</h2>

    <form class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto"
          (ngSubmit)="agregarPaciente()" #form="ngForm" novalidate>

      <!-- Nombres -->
      <div>
        <label class="block mb-1">Nombres:</label>
        <input type="text" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.nombres" name="nombres" #nombres="ngModel"/>
        <p *ngIf="nombres.invalid && nombres.touched" class="text-red-600 text-sm">Este campo es requerido</p>
      </div>

      <!-- Apellido Paterno -->
      <div>
        <label class="block mb-1">Apellido Paterno:</label>
        <input type="text" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.apellido_p" name="apellido_p" #apellido_p="ngModel"/>
        <p *ngIf="apellido_p.invalid && apellido_p.touched" class="text-red-600 text-sm">Este campo es requerido</p>
      </div>

      <!-- Apellido Materno -->
      <div>
        <label class="block mb-1">Apellido Materno:</label>
        <input type="text" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.apellido_m" name="apellido_m" #apellido_m="ngModel"/>
        <p *ngIf="apellido_m.invalid && apellido_m.touched" class="text-red-600 text-sm">Este campo es requerido</p>
      </div>

      <!-- Fecha de Nacimiento -->
      <div>
        <label class="block mb-1">Fecha de Nacimiento:</label>
        <input type="date" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.nacimiento" name="nacimiento" #nacimiento="ngModel"/>
        <p *ngIf="nacimiento.invalid && nacimiento.touched" class="text-red-600 text-sm">Este campo es requerido</p>
      </div>

      <!-- Peso -->
      <div>
        <label class="block mb-1">Peso (kg):</label>
        <input type="number" step="0.1" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.peso" name="peso" #peso="ngModel"/>
        <p *ngIf="peso.invalid && peso.touched" class="text-red-600 text-sm">Peso requerido</p>
      </div>

      <!-- Estatura -->
      <div>
        <label class="block mb-1">Estatura (m):</label>
        <input type="number" step="0.01" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.estatura" name="estatura" #estatura="ngModel"/>
        <p *ngIf="estatura.invalid && estatura.touched" class="text-red-600 text-sm">Estatura requerida</p>
      </div>

      <!-- Sexo -->
      <div>
        <label class="block mb-1">Sexo:</label>
        <select class="w-full border border-gray-300 p-2 rounded"
                required [(ngModel)]="paciente.sexo" name="sexo" #sexo="ngModel">
          <option value="" disabled>Seleccione el sexo</option>
          <option value="M">Masculino</option>
          <option value="F">Femenino</option>
        </select>
        <p *ngIf="sexo.invalid && sexo.touched" class="text-red-600 text-sm">Debe seleccionar un sexo</p>
      </div>

      <!-- Tipo de Sangre -->
      <div>
        <label class="block mb-1">Tipo de Sangre:</label>
        <select class="w-full border border-gray-300 p-2 rounded"
                required [(ngModel)]="paciente.id_tipo_sangre" name="id_tipo_sangre" #id_tipo_sangre="ngModel">
          <option value="" disabled selected>Seleccione tipo de sangre</option>
          <option *ngFor="let tipo of tiposSangre" [value]="tipo.id">{{ tipo.label }}</option>
        </select>
        <p *ngIf="id_tipo_sangre.invalid && id_tipo_sangre.touched" class="text-red-600 text-sm">Debe seleccionar un tipo</p>
      </div>

      <!-- Número de Emergencia -->
      <div>
        <label class="block mb-1">Número de Emergencia:</label>
        <input type="tel" class="w-full border border-gray-300 p-2 rounded"
               required [(ngModel)]="paciente.numero_emergencia" name="numero_emergencia" #numero_emergencia="ngModel"/>
        <p *ngIf="numero_emergencia.invalid && numero_emergencia.touched" class="text-red-600 text-sm">Este campo es requerido</p>
      </div>

      <!-- Botón -->
      <div class="md:col-span-2 flex justify-center mt-6">
        <button type="submit" class="bg-blue-800 text-white px-8 py-2 rounded hover:bg-blue-700">
          Agregar Paciente
        </button>
      </div>
    </form>
  </main>
</div>
